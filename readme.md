# 地理的位置に基づく店舗名の(エセ)AND検索
## 概要
2つ店舗名を指定すると距離の近い店舗ペアを列挙する。
店舗検索にはYOLPを使用しているため、事前にYOLPクライアントIDの発行が必要である。

## セットアップ
- パッケージのインストール
    - `$ pip install -r requirements.txt`
- `.env`ファイルの作成
    - `.env.example`にお手本ファイルがあるので、それを編集し、`.env`にリネームするとよい。


## 使い方
1. 店舗名の位置座標リストを取得
    - `$ python get_shop_geo.py <店舗名> <出力ディレクトリ>`
        - これを店舗名2つ分行う
        - tips: YOLP APIは検索ワードによって返す候補の店舗数がことなるのでいくつか試してみるとよい("スターバックスコーヒー"、"Starbucks Coffee"、"スタバ")
        - `<出力ディレクトリ>`下に結果の店舗リストがtsvファイルとして出力されている。
2. 2店舗の位置座標リストを元に、各拠点同士の距離を計算し、距離がしきい値未満のペアを表示する。
    - `$ python calc_dist.py <店舗名1> <店舗名2> <tsvのあるディレクトリ> [(任意)しきい値の距離(km)]`

### 使用例
1. `$ python get_shop_geo.py スタバ output`
1. `$ python get_shop_geo.py フランフラン output`
1. `$ python calc_dist.py スタバ フランフラン output 0.2`
1. 結果
```tsv
['スターバックスコーヒー くずはモール店', 'Ｆｒａｎｃｆｒａｎｃくずはモール店', 0.09441566021250594]
['スターバックスコーヒー\u3000アミュプラザ鹿児島店', 'フランフランアミュプラザ鹿児島店', 0.11536821590071877]
['スターバックス コーヒー 札幌ステラプレイス センター1階店', 'パセオ\u3000センターＢ１Ｆフランフラン', 0.11784401167930757]
...
```


